<title>Account - Online Leerhulp</title>
<link rel="icon" href="LogoOnlineLeerhulp.png" type="image/png">
<style>
  body {
      font-family: 'Arial', sans-serif;
      background-color: lightblue;
      text-align: center;
      align-items: center;
  }

button {
  background-color: rgb(29, 155, 240);
  color: white;
  height: 50px;
  width: 100px;
  border-color: orange;
  border-radius: 50px;
  border-style: solid;
  cursor: pointer;
  border-width: 1.50px;
  margin-left: 2px;
  font-weight: bold;
  font-size: 12.5px;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}
#nav{
  padding: 0.25%;
  background-color: rgb(239, 157, 16);
  margin: 0%;
  height:max-content;
  width:max-content;
  margin-left: 310px;
  border-radius: 50px
}


  .status {
        margin: 4px;
        font-size: 20;
      
      }
        .logged-in {
            color: green;
          }

        .not-logged-in {
            color: red;
          }


</style>

<div id="nav">
<button onclick="window.location.href = 'Home.html';">Home</button>
<button onclick="window.location.href = 'Bibliotheek.html';">Bibliotheek</button>
<button onclick="window.location.href = 'Schoolvakken.html';">Schoolvakken</button>
<button onclick="window.location.href = 'Tools.html';">Tools</button>
<button onclick="window.location.href = 'Arya.html';">Arya (AI)</button>
<button onclick="window.location.href = 'Account.html';">Account</button>
<button onclick="window.location.href = 'Contact.html';">Contact</button>
</div>
<br>
<h3>Maak een keuze:</h3>
<button onclick="window.location.href = 'Inloggen.html';">Inloggen</button>
<button onclick="window.location.href = 'Account Registreren.html';">Registreren</button>
<button onclick="window.location.href = 'Uitloggen.html';">Uitloggen</button>
<br>
<p>Je kan op onze site een account aanmaken en hiermee inloggen! Met een account krijg je extra voordelen, zoals het nieuwste taalmodel van Arya.</p>
<br>
<div id="status" class="status"></div>
    <script>
//Controleer op account-status
function initArya() {
    // Jouw bestaande initialisatiecode voor Arya hier

    // Functie om de gebruikersstatus te controleren
    function checkUserStatus() {
        const userId = localStorage.getItem('user');
        if (userId) {
            firebase.database().ref(`users/${userId}`).once('value').then(snapshot => {
                const userData = snapshot.val();
                if (userData && userData.status !== 'active') {
                    localStorage.removeItem('user');
                    alert('We hebben een ongewenste activiteit op je account gedetecteerd. Je account is geblokkeerd en kunt momenteel niet meer inloggen. Probeer het later opnieuw.');
                    window.location.href = 'Inloggen.html'; // Stuur de gebruiker naar de inlogpagina
                }
            });
        }
    }

    // Stel de functie in om elke 5 minuten te draaien
    setInterval(checkUserStatus, 3000); // 300000 ms = 5 minuten

    // Hier kun je de rest van je Arya-initiatiescript aanroepen
}

// Roep initArya aan wanneer de pagina laadt
window.onload = initArya;


        document.addEventListener('DOMContentLoaded', function() {
            var user = localStorage.getItem('user');
            var statusDiv = document.getElementById('status');

            if (user) {
                statusDiv.textContent = 'Je bent momenteel ingelogd. Geniet van de extra voordelen!';
                statusDiv.classList.add('logged-in');
            } else {
                statusDiv.textContent = 'Je bent momenteel niet ingelogd. Registreer een account of log in voor de extra voordelen!';
                statusDiv.classList.add('not-logged-in');
            }

        });
    </script>